webpackJsonp([1],{"991W":function(t,e){},E51W:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("991W");var a=s("7+uW"),n=s("aFc6"),i=(s("E51W"),s("VaBq"),s("/ocq")),o={data:function(){return{loading:!1,lists:[],start:0,allLoaded:!1,total:0}},filters:{zero:function(t){var e=Math.floor(t/2);return t?"★".repeat(e)+"☆".repeat(5-e)+" "+t.toFixed(1)+"分":"暂无评分"}},methods:{load:function(){var t=this;this.loading=!0,this.getLists().then(function(){return t.loading=!1})}}},r={mixins:[o],created:function(){this.getLists()},methods:{getLists:function(){var t=this;return this.$jsonp("https://api.douban.com/v2/movie/in_theaters",{city:"上海",count:12,start:this.start}).then(function(e){e.subjects.length?(t.lists=t.lists.concat(e.subjects),t.total=e.total,t.start=t.start+12):t.allLoaded=!0}).catch(function(t){document.write(t.statusText)})}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mu-container",{staticStyle:{padding:"70px 10px"}},[s("mu-circular-progress",{directives:[{name:"show",rawName:"v-show",value:!t.lists.length,expression:"!lists.length"}],staticStyle:{margin:"0 auto",display:"block"},attrs:{size:46,color:"success"}}),t._v(" "),s("mu-load-more",{attrs:{loading:t.loading,"loaded-all":t.allLoaded},on:{load:t.load}},[s("mu-grid-list",{attrs:{cols:3}},t._l(t.lists,function(e,a){return s("mu-grid-tile",{key:a,staticStyle:{height:"auto"},on:{click:function(s){t.$router.push({name:"detail",query:{id:e.id}})}}},[s("img",{attrs:{src:e.images.small}}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),t._v(" "),s("span",{attrs:{slot:"subTitle"},slot:"subTitle"},[s("b",[t._v(t._s(t._f("zero")(e.rating.average)))])])])}))],1),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.allLoaded,expression:"allLoaded"}],staticClass:"bottom"},[t._v("我是有底线的")])],1)},staticRenderFns:[]},c=s("VU/8")(r,l,!1,null,null,null).exports,u={mixins:[o],created:function(){this.getLists()},methods:{getLists:function(){var t=this;return this.$jsonp("https://api.douban.com/v2/movie/top250",{count:12,start:this.start}).then(function(e){e.subjects.length?(t.lists=t.lists.concat(e.subjects),t.total=e.total,t.start=t.start+12):t.allLoaded=!0}).catch(function(t){document.write(t.statusText)})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mu-container",{staticStyle:{padding:"70px 10px"}},[s("mu-circular-progress",{directives:[{name:"show",rawName:"v-show",value:!t.lists.length,expression:"!lists.length"}],staticStyle:{margin:"0 auto",display:"block"},attrs:{size:46,color:"success"}}),t._v(" "),s("mu-load-more",{attrs:{loading:t.loading,"loaded-all":t.allLoaded},on:{load:t.load}},[s("mu-grid-list",{attrs:{cols:3}},t._l(t.lists,function(e,a){return s("mu-grid-tile",{key:a,staticStyle:{height:"auto"},on:{click:function(s){t.$router.push({name:"detail",query:{id:e.id}})}}},[s("img",{attrs:{src:e.images.small}}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),t._v(" "),s("span",{attrs:{slot:"subTitle"},slot:"subTitle"},[s("b",[t._v(t._s(t._f("zero")(e.rating.average)))])])])}))],1),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.allLoaded,expression:"allLoaded"}],staticClass:"bottom"},[t._v("我是有底线的")])],1)},staticRenderFns:[]},m=s("VU/8")(u,d,!1,null,null,null).exports,h={mixins:[o],data:function(){return{allLoaded:!0}},created:function(){this.getLists()},methods:{getLists:function(){var t=this;return this.$jsonp("https://api.douban.com/v2/movie/us_box").then(function(e){e.subjects.forEach(function(e){t.lists=t.lists.concat(e.subject)})}).catch(function(t){document.write(t.statusText)})}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mu-container",{staticStyle:{padding:"70px 10px"}},[s("mu-circular-progress",{directives:[{name:"show",rawName:"v-show",value:!t.lists.length,expression:"!lists.length"}],staticStyle:{margin:"0 auto",display:"block"},attrs:{size:46,color:"success"}}),t._v(" "),s("mu-load-more",{attrs:{loading:t.loading,"loaded-all":t.allLoaded},on:{load:t.load}},[s("mu-grid-list",{attrs:{cols:3}},t._l(t.lists,function(e,a){return s("mu-grid-tile",{key:a,staticStyle:{height:"auto"},on:{click:function(s){t.$router.push({name:"detail",query:{id:e.id}})}}},[s("img",{attrs:{src:e.images.small}}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),t._v(" "),s("span",{attrs:{slot:"subTitle"},slot:"subTitle"},[s("b",[t._v(t._s(t._f("zero")(e.rating.average)))])])])}))],1),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.allLoaded,expression:"allLoaded"}],staticClass:"bottom"},[t._v("我是有底线的")])],1)},staticRenderFns:[]},v=s("VU/8")(h,p,!1,null,null,null).exports,_=null,f={name:"Search",data:function(){return{allLoaded:!0,progress:!1}},mixins:[o],computed:{search:function(){return this.$root.search}},watch:{search:function(t){var e=this;clearTimeout(_),_=setTimeout(function(){e.getLists()},600)}},methods:{getLists:function(){var t=this;return this.progress=!0,this.$jsonp("https://api.douban.com/v2/movie/search",{count:18,q:this.search}).then(function(e){t.lists=e.subjects,t.progress=!1}).catch(function(t){document.write(t.statusText)})}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mu-container",{staticStyle:{padding:"70px 10px 0"}},[s("mu-circular-progress",{directives:[{name:"show",rawName:"v-show",value:t.progress,expression:"progress"}],staticStyle:{margin:"0 auto",display:"block"},attrs:{size:46,color:"success"}}),t._v(" "),s("mu-load-more",{attrs:{loading:t.loading,"loaded-all":t.allLoaded},on:{load:t.load}},[s("mu-grid-list",{attrs:{cols:3}},t._l(t.lists,function(e,a){return s("mu-grid-tile",{key:a,staticStyle:{height:"auto"},on:{click:function(s){t.$router.push({name:"detail",query:{id:e.id}})}}},[s("img",{attrs:{src:e.images.small}}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),t._v(" "),s("span",{attrs:{slot:"subTitle"},slot:"subTitle"},[s("b",[t._v(t._s(t._f("zero")(e.rating.average)))])])])}))],1)],1)},staticRenderFns:[]},b=s("VU/8")(f,g,!1,null,null,null).exports,x=s("woOf"),w=s.n(x),y={name:"Detail",mixins:[o],data:function(){return{list:null}},created:function(){this.getLists()},methods:{getLists:function(){var t=this;this.$jsonp("https://api.douban.com/v2/movie/subject/"+this.$route.query.id).then(function(e){t.list=w()({},t.list,e)})}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mu-container",{staticStyle:{padding:"70px 10px 10px"}},[s("mu-circular-progress",{directives:[{name:"show",rawName:"v-show",value:null==t.list,expression:"list == null"}],staticStyle:{margin:"0 auto",display:"block"},attrs:{size:46,color:"success"}}),t._v(" "),null!=t.list?s("mu-card",{staticStyle:{width:"100%","max-width":"375px",margin:"0 auto"},attrs:{raised:""}},[s("mu-card-media",[s("img",{attrs:{src:t.list.images.small}})]),t._v(" "),s("mu-card-title",{attrs:{title:t.list.title,"sub-title":t._f("zero")(t.list.rating.average)}}),t._v(" "),s("p",{staticClass:"info"},[t._v("导演："),t._l(t.list.directors,function(e){return s("span",[t._v(" "+t._s(e.name)+" ")])})],2),t._v(" "),s("p",{staticClass:"info"},[t._v("主演："),t._l(t.list.casts,function(e){return s("span",[t._v(" "+t._s(e.name)+" ")])})],2),t._v(" "),s("p",{staticClass:"info"},[t._v("类型："),t._l(t.list.genres,function(e){return s("span",[t._v(" "+t._s(e)+" ")])})],2),t._v(" "),s("h2",{staticClass:"movie-title"},[t._v(t._s(t.list.title)+"的剧情简介")]),t._v(" "),s("mu-card-text",[t._v("\n    \t"+t._s(t.list.summary)+"\n    ")])],1):t._e()],1)},staticRenderFns:[]};var L=s("VU/8")(y,$,!1,function(t){s("oBSU")},null,null).exports;a.a.use(i.a);var k=[{name:"home",path:"/",component:c},{name:"top250",path:"/top250",component:m},{name:"us",path:"/us",component:v},{name:"search",path:"/search",component:b},{name:"detail",path:"/detail",component:L}],S=new i.a({routes:k}),T=s("qJdI"),j=s.n(T),z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mu-appbar",{staticStyle:{width:"100%",position:"fixed",top:"0"},attrs:{color:t.color}},[t.seen?s("span",[t._v("豆瓣电影")]):t._e(),t._v(" "),t.backIcon?s("mu-button",{attrs:{slot:"left",icon:""},on:{click:function(e){t.$router.back()}},slot:"left"},[s("mu-icon",{attrs:{value:"keyboard_arrow_left",size:"42"}})],1):t._e(),t._v(" "),t.seen?s("mu-button",{staticStyle:{"text-decoration":"none"},attrs:{slot:"right",icon:"",to:{name:"search"}},slot:"right"},[s("mu-icon",{attrs:{size:"32",value:"search"}})],1):t._e(),t._v(" "),t.seen?t._e():s("mu-button",{attrs:{slot:"left",icon:""},on:{click:function(e){t.$router.back()}},slot:"left"},[s("mu-icon",{attrs:{value:"keyboard_arrow_left",size:"42"}})],1),t._v(" "),t.seen?t._e():s("mu-text-field",{attrs:{value:t.search,placeholder:"请搜索电影","full-width":"",color:"white"},on:{input:function(e){t.handleInput(e)}}})],1)},staticRenderFns:[]};var N=s("VU/8")({props:["search"],data:function(){return{color:"success"}},computed:{seen:function(){return"search"!=this.$route.name},backIcon:function(){return"detail"==this.$route.name}},methods:{handleInput:function(t){this.$emit("searchMovie",t)}}},z,!1,function(t){s("eUir")},null,null).exports,U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"fixed",bottom:"0",width:"100%","box-shadow":"0px 0px 2px #a4a4a4"}},[s("mu-bottom-nav",{attrs:{color:t.color,value:t.$route.name}},[s("mu-bottom-nav-item",{attrs:{value:"home",title:"正在热映",icon:"whatshot"},nativeOn:{click:function(e){t.$router.push({name:"home"})}}}),t._v(" "),s("mu-bottom-nav-item",{attrs:{value:"top250",title:"Top250",icon:"insert_chart"},nativeOn:{click:function(e){t.$router.push({name:"top250"})}}}),t._v(" "),s("mu-bottom-nav-item",{attrs:{value:"us",title:"北美榜",icon:"movie"},nativeOn:{click:function(e){t.$router.push({name:"us"})}}})],1)],1)},staticRenderFns:[]},q=s("VU/8")({props:["active"],data:function(){return{color:"success"}}},U,!1,null,null,null).exports;a.a.use(n.a),a.a.use(j.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:S,components:{TopBar:N,BottomNav:q},data:{search:""},computed:{seen:function(){return"search"!=this.$route.name&&"detail"!=this.$route.name}},methods:{searchMovie:function(t){this.search=t}}})},VaBq:function(t,e){},eUir:function(t,e){},oBSU:function(t,e){}},["NHnr"]);