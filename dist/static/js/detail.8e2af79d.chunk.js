webpackJsonp([0],{uv07:function(t,s){},wHgX:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n={name:"Detail",mixins:[e("5jRo").a],data:function(){return{list:null,comments:null,reviews:[],panel:""}},created:function(){this.getLists(),this.getComments(),this.getReviews()},methods:{getLists:function(){var t=this;this.$jsonp("https://api.douban.com/v2/movie/subject/"+this.$route.query.id).then(function(s){t.list=s})},getComments:function(){var t=this;this.$jsonp("https://api.douban.com/v2/movie/subject/"+this.$route.query.id+"/comments",{apikey:"0b2bdeda43b5688921839c8ecb20399b",count:6}).then(function(s){t.comments=s})},getReviews:function(){var t=this;this.$jsonp("https://api.douban.com/v2/movie/subject/"+this.$route.query.id+"/reviews",{apikey:"0b2bdeda43b5688921839c8ecb20399b",count:6}).then(function(s){var e=s.reviews;t.reviews=e})},toggle:function(t){this.panel=t===this.panel?"":t}},filters:{star:function(t){return"★".repeat(t)+"☆".repeat(5-t)+" "+t+"分"}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("mu-container",{staticStyle:{padding:"70px 10px 10px"}},[t.list&&t.comments?e("mu-card",{staticStyle:{width:"100%","max-width":"375px",margin:"0 auto"},attrs:{raised:""}},[e("mu-card-media",[e("img",{attrs:{src:t.list.images.small}})]),t._v(" "),e("mu-card-title",{attrs:{title:t.list.title,"sub-title":t._f("zero")(t.list.rating.average)}}),t._v(" "),e("p",{staticClass:"info"},[t._v("导演：\n      "),t._l(t.list.directors,function(s,n){return e("span",[t._v(" "+t._s(s.name)+"\n        "),n<t.list.directors.length-1?e("span",[t._v("/")]):t._e()])})],2),t._v(" "),e("p",{staticClass:"info"},[t._v("主演：\n      "),t._l(t.list.casts,function(s,n){return e("span",[t._v(" "+t._s(s.name)+"\n        "),n<t.list.casts.length-1?e("span",[t._v("/")]):t._e()])})],2),t._v(" "),e("p",{staticClass:"info"},[t._v("又名：\n      "),t._l(t.list.aka,function(s,n){return e("span",[t._v(" "+t._s(s)+"\n        "),n<t.list.aka.length-1?e("span",[t._v("/")]):t._e()])})],2),t._v(" "),e("p",{staticClass:"info"},[t._v("类型：\n      "),t._l(t.list.genres,function(s,n){return e("span",[t._v(" "+t._s(s)+"\n        "),n<t.list.genres.length-1?e("span",[t._v("/")]):t._e()])})],2),t._v(" "),e("p",{staticClass:"info"},[t._v("上映日期：\n      "),t._l(t.comments.subject.pubdates,function(s,n){return e("span",[t._v(" "+t._s(s)+"\n        "),n<t.comments.subject.pubdates.length-1?e("span",[t._v("/")]):t._e()])})],2),t._v(" "),e("p",{staticClass:"info"},[t._v("片长：\n      "),t._l(t.comments.subject.durations,function(s,n){return e("span",[t._v(" "+t._s(s)+"\n        "),n<t.comments.subject.durations.length-1?e("span",[t._v("/")]):t._e()])})],2),t._v(" "),e("h2",{staticClass:"movie-title"},[t._v(t._s(t.list.title)+"的剧情简介")]),t._v(" "),e("mu-card-text",[t._v("\n      "+t._s(t.list.summary)+"\n    ")]),t._v(" "),e("h2",{staticClass:"movie-title"},[t._v("精彩短评")]),t._v(" "),t.comments.comments.length?e("mu-list",{attrs:{textline:"three-line"}},[t._l(t.comments.comments,function(s,n){return[e("mu-list-item",{attrs:{avatar:"",ripple:!1,button:""}},[e("mu-list-item-action",[e("mu-avatar",[e("img",{attrs:{src:s.author.avatar}})])],1),t._v(" "),e("mu-list-item-content",[e("mu-list-item-title",[t._v(t._s(s.author.name))]),t._v(" "),e("mu-list-item-sub-title",[e("span",{staticClass:"star-color"},[t._v(t._s(t._f("star")(s.rating.value)))]),t._v(" "),e("br"),t._v(" "+t._s(s.content)+"\n            ")])],1)],1),t._v(" "),n<t.comments.comments.length-1?e("mu-divider"):t._e()]})],2):e("p",{staticClass:"movie-title"},[t._v("暂无短评")]),t._v(" "),e("h2",{staticClass:"movie-title",staticStyle:{"margin-bottom":"2px"}},[t._v("精彩长评")]),t._v(" "),t.reviews.length?t._l(t.reviews,function(s){return e("mu-expansion-panel",{key:s.id,attrs:{expand:t.panel===s.id},on:{change:function(e){t.toggle(s.id)}}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("p",{staticClass:"review-title"},[t._v("\n            "+t._s(s.title)+"\n          ")]),t._v(" "),e("mu-avatar",{staticStyle:{position:"static"}},[e("img",{attrs:{src:s.author.avatar}})]),t._v(" "),e("div",{staticStyle:{display:"inline-block","margin-left":"8px"}},[e("p",[t._v(t._s(s.author.name))]),t._v(" "),e("p",{staticClass:"star-color"},[t._v(t._s(t._f("star")(s.rating.value)))])])],1),t._v("\n        "+t._s(s.content)+"\n      ")])}):e("p",{staticClass:"movie-title",staticStyle:{margin:"-16px 0 0 0"}},[t._v("暂无长评")])],2):e("mu-circular-progress",{staticStyle:{margin:"0 auto",display:"block"},attrs:{size:46,color:"success"}})],1)},staticRenderFns:[]};var a=e("VU/8")(n,i,!1,function(t){e("uv07")},null,null);s.default=a.exports}});